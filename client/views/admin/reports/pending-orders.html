<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title> {{app.name}} </title>
<link rel="icon" href="{{app.url}}/images/favicon.png" sizes="32x32" />
    <link rel="icon" href="{{app.url}}/images/favicon.png" sizes="192x192" />
    <!-- Bootstrap -->
    <link href="{{app.url}}vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="{{app.url}}vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- NProgress -->
    <link href="{{app.url}}vendors/nprogress/nprogress.css" rel="stylesheet">
    <!-- bootstrap-daterangepicker -->
    <link href="{{app.url}}vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">
    <!-- bootstrap-datetimepicker -->
    <link href="{{app.url}}vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.css" rel="stylesheet">
    <!-- Ion.RangeSlider -->
    <link href="{{app.url}}vendors/normalize-css/normalize.css" rel="stylesheet">
    <link href="{{app.url}}vendors/ion.rangeSlider/css/ion.rangeSlider.css" rel="stylesheet">
    <link href="{{app.url}}vendors/ion.rangeSlider/css/ion.rangeSlider.skinFlat.css" rel="stylesheet">
    <!-- Bootstrap Colorpicker -->
    <link href="{{app.url}}vendors/mjolnic-bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css" rel="stylesheet">

    <link href="{{app.url}}vendors/cropper/dist/cropper.min.css" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link href="{{app.url}}build/css/custom.min.css" rel="stylesheet">
  </head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">
        <!-- top navigation -->
     {{include 'admin/global/header'}}
        <!-- /top navigation -->
 

        {{include 'admin/global/sidebar'}}

      

        <!-- page content -->
        <div class="right_col" role="main">
          <div class="">
            <div class="page-title">
              <div class="title_left">
                <h3> Pending Orders  </h3>
                
              </div>

           
            </div>

            <div class="clearfix"></div>

            
            <div class="row">
              <div class="col-md-12">
                <div class="x_panel">
                  <div class="x_title">
                   
                        
                 
                               <div id="reportrange_right" class="pull-left" style="background: #fff; cursor: pointer; padding: 7px 10px; border: 1px solid #ccc">
                          <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                          <span class="date-range">01 01, {{app.year}} - Oct {{app.day}}, {{app.year}}</span> <b class="caret"></b>
                       </div>
                              
                         
                       &nbsp; 
                        <button type="button" class="btn btn-primary" onclick="showPendingOrders()"><i class="fa fa-search"></i> Search</button>
                       
                       
                        
                      <button class="btn btn-default no-print " onclick="print();return false;"><i class="fa fa-print"></i> Print</button>
                      
                          
                        
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">

                    <section class="content invoice">
                      <!-- title row -->
                      <div class="row">
                        <div class="col-xs-12 invoice-header">
                          <h1>
                                       
                           <small class="text-center"></small>
                                      </h1>
                        </div>
                        <!-- /.col -->
                      </div>
                      <!-- info row -->
                      <div id="PrintSection">
                        <title class="print-title">Pending orders</title>
                      <div class="row invoice-info print pendingOrders" >
                      </div>

<style type="text/css">
  .ship-tbl{
    border-collapse: collapse;
  }
.ship-tbl tr th,.ship-tbl tr td{
        padding: 3px 5px;
      }

      @media print{
       body :not(.print){
          visibility: hidden;
        height: 0;
      }
    
    svg *{
     visibility: visible !important;
      height: 100px !important;
    }

      body .print *{
          visibility: visible !important;
      
      }
        .no-print{
          display: none;
        }
    
    @page {
      size: 250mm 200mm;
    }
      
    .page-break { page-break-before:always; }


.page-break {
        clear: both !important;
        page-break-after: always !important;
    }


      }

      
    .inner-table{
      border-collapse: collapse;
      
      padding: 0;
    }


    .inner-table {
    border: 0;
    border-collapse: separate;
    border-spacing: 0;
}

</style>
</div>

                   
                      <!-- /.row -->

                    
                      <!-- /.row -->

                   
                      <!-- /.row -->

                      <!-- this row will not appear when printing -->
                      
                    </section>
                  </div>
                </div>
              </div>
            </div>





          </div>
        </div>
        <!-- /page content -->

        <!-- footer content -->
     		{{include 'admin/global/footer'}}
        <!-- /footer content -->
      </div>
    </div>






    <!-- jQuery -->
    <script src="{{app.url}}vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="{{app.url}}vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="{{app.url}}vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="{{app.url}}vendors/nprogress/nprogress.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="{{app.url}}vendors/moment/min/moment.min.js"></script>
    <script src="{{app.url}}vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
    <!-- bootstrap-datetimepicker -->    
    <script src="{{app.url}}vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
    <!-- Ion.RangeSlider -->
    <script src="{{app.url}}vendors/ion.rangeSlider/js/ion.rangeSlider.min.js"></script>
    <!-- Bootstrap Colorpicker -->
    <script src="{{app.url}}vendors/mjolnic-bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
    <!-- jquery.inputmask -->
    <script src="{{app.url}}vendors/jquery.inputmask/dist/min/jquery.inputmask.bundle.min.js"></script>
    <!-- jQuery Knob -->
    <script src="{{app.url}}vendors/jquery-knob/dist/jquery.knob.min.js"></script>
    

 <!-- Custom Theme Scripts -->
  <script src="{{app.url}}build/js/custom.min.js"></script>



    <script type="text/javascript">
    	

		   function init_daterangepicker_right() {
	      
				if( typeof ($.fn.daterangepicker) === 'undefined'){ return; }
				console.log('init_daterangepicker_right');
		  
				var cb = function(start, end, label) {
				  console.log(start.toISOString(), end.toISOString(), label);
				  $('#reportrange_right span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));
				};

				var optionSet1 = {
				  startDate: moment().subtract(0, 'days'),
				  endDate: moment(),
				  minDate: '01/01/2012',
				  maxDate: '12/31/2021',
				  dateLimit: {
					days: 60
				  },
				  showDropdowns: true,
				  showWeekNumbers: true,
				  timePicker: false,
				  timePickerIncrement: 1,
				  timePicker12Hour: true,
				  ranges: {
					'Today': [moment(), moment()],
					'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
					'Last 7 Days': [moment().subtract(6, 'days'), moment()],
					'Last 30 Days': [moment().subtract(29, 'days'), moment()],
					'This Month': [moment().startOf('month'), moment().endOf('month')],
					'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
				  },
				  opens: 'right',
				  buttonClasses: ['btn btn-default'],
				  applyClass: 'btn-small btn-primary',
				  cancelClass: 'btn-small',
				  format: 'MM/DD/YYYY',
				  separator: ' to ',
				  locale: {
					applyLabel: 'Submit',
					cancelLabel: 'Clear',
					fromLabel: 'From',
					toLabel: 'To',
					customRangeLabel: 'Custom',
					daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
					monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
					firstDay: 1
				  }
				};

				$('#reportrange_right span').html(moment().subtract(0, 'days').format('MMMM D, YYYY') + ' - ' + moment().format('MMMM D, YYYY'));

				$('#reportrange_right').daterangepicker(optionSet1, cb);

				$('#reportrange_right').on('show.daterangepicker', function() {
				  console.log("show event fired");
				});
				$('#reportrange_right').on('hide.daterangepicker', function() {
				  console.log("hide event fired");
				});
				$('#reportrange_right').on('apply.daterangepicker', function(ev, picker) {
				  console.log("apply event fired, start/end dates are " + picker.startDate.format('MMMM D, YYYY') + " to " + picker.endDate.format('MMMM D, YYYY'));
				});
				$('#reportrange_right').on('cancel.daterangepicker', function(ev, picker) {
				  console.log("cancel event fired");
				});

				$('#options1').click(function() {
				  $('#reportrange_right').data('daterangepicker').setOptions(optionSet1, cb);
				});

				$('#options2').click(function() {
				  $('#reportrange_right').data('daterangepicker').setOptions(optionSet2, cb);
				});

				$('#destroy').click(function() {
				  $('#reportrange_right').data('daterangepicker').remove();
				});

	   }

	   init_daterangepicker_right();


	function showPendingOrders(){
	  var dateRange = jQuery('.date-range').text(); 
	   	 
    var dates =  dateRange.split("-");

    var startDate = new Date(dates[0]);
    var endDate = new Date(dates[1]+' 23:59:59');

      jQuery('.print-title').text("Pending Orders: "+dateRange);
      app.post('/admin/report/pending/orders',{startDate,endDate},res=>{
        if(!res.err && res.orders.length){
          setPendingOrders(res.orders);
          
        }else{
          app.showToast("No orders find between <br>"+dateRange);
        }
      })
      
	   }




      function print(){
            var prtContent = document.getElementById("PrintSection");
            var WinPrint = window.open('', '', 'left=0,top=0,width=800,height=800,toolbar=0,scrollbars=0,status=0');
            WinPrint.document.write(prtContent.innerHTML);
            WinPrint.document.close();
            WinPrint.focus();
            WinPrint.print();
            //WinPrint.close();
        }
    </script>


    <script src="{{app.url}}js/JsBarcode.all.min.js"></script>

  </body>
</html>
